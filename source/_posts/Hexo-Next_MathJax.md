---
title: Hexo-NexT MathJaxé…ç½®
lang: zh-TW
tags:
  - Hexo
  - NexT
categories:
  - æ•™å­¸æ–‡
abbrlink: 12637
date: 2023-09-16 00:00:00
---

## å‰è¨€

å› ç‚ºHexoæœ¬èº«çš„markdownèªæ³•ä¸èƒ½ä½¿ç”¨LaTeXé€²è¡Œæ•¸å­¸å¼çš„ç·¨å¯«ï¼Œéœ€è¦é¡å¤–å®‰è£æ’ä»¶ï¼Œä¹Ÿå°±æ˜¯MathJaxï¼ŒåŸºæœ¬ä¸Šè·ŸLaTeXèªæ³•æ˜¯ä¸€æ¨¡ä¸€æ¨£çš„ã€‚
å¦å¤–ï¼Œæœ¬ç¯‡å¹¾ä¹çš†å–è‡ª[å®˜æ–¹èªªæ˜](https://theme-next.js.org/docs/third-party-services/math-equations#mjx-eqn%3Aeq_tag)ï¼Œæœ‰èˆˆè¶£å¯ä»¥è‡ªè¡Œåƒé–±ï¼Œæ¥ä¸‹ä¾†æˆ‘æœƒæ ¹æ“šä»¥ä¸‹ä¸‰é»ï¼Œä¸€ä¸€é€²è¡Œä»‹ç´¹ã€‚

<!--more-->

1. [å®‰è£](/Hexo-Next_MathJax/#å®‰è£])
2. [ä¿®æ”¹è¨­å®š](/Hexo-Next_MathJax/#ä¿®æ”¹è¨­å®š)
3. [ç¯„ä¾‹](/Hexo-Next_MathJax/#ç¯„ä¾‹)

## å®‰è£

### å®‰è£/å¸è¼‰å¥—ä»¶

é€™é‚Šè¼‰çš„æ˜¯æ¸²æŸ“ç¶²é çš„å¥—ä»¶ï¼Œå› ç‚ºhexoæœ¬ä¾†å°±æœ‰è‡ªå·±çš„æ¸²æŸ“å·¥å…·äº†ï¼Œæ‰€ä»¥è¦å°‡å…¶è§£é™¤å®‰è£ä¸¦ä¸‹è¼‰æ–°çš„æ¸²æŸ“å·¥å…·ï¼Œå¦å¤–é€™è£¡ä¹Ÿè¦æ³¨æ„ä¸€ä¸‹å¦‚æœä½ ä¹‹å‰æœ‰å®‰è£é`hexo-math`æˆ–`hexo-katex`è¦æŠŠä»–å€‘è§£é™¤å®‰è£ï¼Œä¸ç„¶ä¹Ÿæœ‰å¯èƒ½æœƒç™¼ç”Ÿè¡çª

```bash
npm un hexo-renderer-marked
npm i hexo-renderer-pandoc
```

### æœ¬æ©Ÿå®‰è£pandoc

é€™ä¸€é»éå¸¸é‡è¦ï¼Œæˆ‘å› ç‚ºé€™å€‹å‘èŠ±äº†ä¸€å€‹å¤šå°æ™‚ï¼Œæœ€å¾Œæ‰åœ¨[githubä¸Šçš„è¨è«–æ‰¾åˆ°è§£æ±ºæ–¹æ³•](https://github.com/theme-next/hexo-theme-next/issues/1454)ï¼Œéœ€è¦é¡å¤–å®‰è£pandocåœ¨æœ¬æ©Ÿï¼Œå…¶å¯¦å®˜æ–¹çš„æ–‡æª”è£¡é¢æœ‰å¯«ï¼Œä½†æˆ‘æ²’çœ‹åˆ°ğŸ¥²
å„å€‹ä½œæ¥­ç³»çµ±å®‰è£æ–¹å¼ä¸ä¸€ï¼Œæˆ‘å°±ä¸€ä¸€æ•´ç†æ‰“åœ¨åº•ä¸‹ï¼Œè¨˜å¾—æŒ‘é¸ç¬¦åˆè‡ªå·±ä½œæ¥­ç³»çµ±çš„è¤‡è£½åŸ·è¡Œå–”

```bash
#Windowsï¼ˆé€™è£¡éœ€è¦æœ‰chocolateyï¼Œå¦‚æœæ²’æœ‰å®‰è£çš„è©±å¯ä»¥å»æœå°‹ä¸€ä¸‹å®‰è£æ–¹å¼ï¼Œæ•´é«”éç¨‹ä¸¦ä¸è¤‡é›œï¼Œè€Œä¸”æœªä¾†ç”¨åˆ°æ©Ÿæœƒå¾ˆé«˜ï¼‰
choco install pandoc

#macOSï¼ˆé€™è£¡éœ€è¦æœ‰homebrewï¼Œå¦‚æœæ²’æœ‰å®‰è£çš„è©±å¯ä»¥å»æœå°‹ä¸€ä¸‹å®‰è£æ–¹å¼ï¼Œæ•´é«”éç¨‹ä¸¦ä¸è¤‡é›œï¼Œè€Œä¸”æœªä¾†ç”¨åˆ°æ©Ÿæœƒå¾ˆé«˜ï¼‰
brew install pandoc

#Linuxï¼ˆåŸºæœ¬ä¸ŠåŸæœ¬é›»è…¦è£¡æ‡‰è©²éƒ½æœ‰Pandocï¼Œä¸éä¹Ÿé‚„æ˜¯å¯ä»¥ä¸‹è¼‰æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼‰
#å…ˆåˆ° https://github.com/jgm/pandoc/releases/latest ä¸‹è¼‰å®‰è£æª”ï¼Œç„¶å¾Œå†åŸ·è¡ŒæŒ‡ä»¤å®‰è£ï¼Œ$DEBæ˜¯å®‰è£æª”è·¯å¾‘
sudo dpkg -i $DEB

#Chromeï¼ˆé€™å€‹éœ€è¦chromebrewï¼Œæˆ‘æ²’æœ‰ç”¨éï¼Œä½†çœ‹èµ·ä¾†æ‡‰è©²ä¸æ˜¯å¾ˆéº»ç…©ï¼‰
crew install pandoc

```

[é€™é‚Šæ˜¯pandocå®˜æ–¹å®‰è£æ•™å­¸](https://github.com/jgm/pandoc/blob/main/INSTALL.md)

## ä¿®æ”¹è¨­å®š

åˆ°ä¸»é¡Œä¸­çš„`config.yml`æ‰¾åˆ°mathçš„ä½ç½®ï¼Œä¸¦ä¿®æ”¹æˆä»¥ä¸‹å…§å®¹

```yml theme/NexT/_config.yml
math:
  # å¦‚æœæ˜¯trueå°±ä»£è¡¨ä¸ç”¨ç‰¹åˆ¥è¨­å®šè¦ä¸è¦ä½¿ç”¨MathJaxï¼Œæ‰€æœ‰é é¢éƒ½æœƒå¥—ç”¨ï¼Œé™¤éè¨­å®šfalse
  # å¦‚æœæ˜¯falseå°±ä»£è¡¨ä¸ç”¨ç‰¹åˆ¥è¨­å®šè¦ä¸è¦ä½¿ç”¨MathJaxï¼Œæ‰€æœ‰é é¢éƒ½ä¸æœƒå¥—ç”¨ï¼Œé™¤éè¨­å®štrue
  every_page: true

  mathjax:
    # å°±æ˜¯èªªè¦å–ç”¨mathjax
    enable: true
    # tagå¾Œé¢æœƒè¬›åˆ°ï¼Œå°±å…ˆé¸ams
    # Available values: none | ams | all
    tags: ams
```

## ç¯„ä¾‹

é€™é‚Šæœ‰ä¸€äº›ç¯„ä¾‹å¯ä»¥è©¦è©¦çœ‹

```latex
$$
A = \begin{bmatrix}
        a_{11}    & a_{12}    & ...    & a_{1n}\\
        a_{21}    & a_{22}    & ...    & a_{2n}\\
        a_{31}    & a_{22}    & ...    & a_{3n}\\
        \vdots    & \vdots    & \ddots & \vdots\\
        a_{n1}    & a_{n2}    & ... & a_{nn}\\
    \end{bmatrix} , b = \begin{bmatrix}
        b_{1}  \\
        b_{2}  \\
        b_{3}  \\
        \vdots \\
        b_{n}  \\
    \end{bmatrix}
$$

$$
\begin{aligned}
a &= b + c \\
  &= d + e + f + g \\
  &= h + i
\end{aligned}
$$

$$
e=mc^2
$$

$$
C_p[\ce{H2O(l)}] = \pu{75.3 J // mol K}
$$
```

å¯¦éš›çš„æ•ˆæœå¤§æ¦‚å°±æ˜¯é•·é€™æ¨£
$$
A = \begin{bmatrix}
        a_{11}    & a_{12}    & ...    & a_{1n}\\
        a_{21}    & a_{22}    & ...    & a_{2n}\\
        a_{31}    & a_{22}    & ...    & a_{3n}\\
        \vdots    & \vdots    & \ddots & \vdots\\
        a_{n1}    & a_{n2}    & ... & a_{nn}\\
    \end{bmatrix} , b = \begin{bmatrix}
        b_{1}  \\
        b_{2}  \\
        b_{3}  \\
        \vdots \\
        b_{n}  \\
    \end{bmatrix}
$$

$$
\begin{aligned}
a &= b + c \\
  &= d + e + f + g \\
  &= h + i
\end{aligned}
$$

$$
e=mc^2
$$

$$
C_p[\ce{H2O(l)}] = \pu{75.3 J // mol K}
$$

å¯ä»¥ç™¼ç¾æœ€å¾Œé€™å€‹é‚„æ˜¯åŒ–å­¸å¼ï¼Œæ²’éŒ¯ï¼ŒMathJaxä¹Ÿå¯ä»¥æ’°å¯«åŒ–å­¸å¼ï¼Œè©³ç´°èªæ³•å¯ä»¥çœ‹[é€™é‚Š](https://mhchem.github.io/MathJax-mhchem/)

æœ€å¾Œå°±æ˜¯æ¨™ç±¤çš„åŠŸèƒ½ï¼Œå‰é¢åœ¨è¨­å®š`tag`æˆ‘å€‘é¸äº†`ams`ï¼Œé‚£ä»–çš„åŠŸèƒ½å°±æ˜¯å¯ä»¥è®“æˆ‘å€‘çµ¦æ¯ä¸€å€‹å¼å­ä¸€å€‹ç·¨è™Ÿï¼Œä¾‹å¦‚åƒé€™æ¨£

```latex
$$\begin{equation} \label{eq1}
e=mc^2
\end{equation}$$
```

$$\begin{equation} \label{eq1}
e=mc^2
\end{equation}$$

åœ¨å¾Œæ–‡ä¸­å°±å¯ä»¥ä½¿ç”¨`$\eqref{eq1}$`ä¾†å¼•ç”¨å¼å­ï¼Œåƒé€™æ¨£$\eqref{eq1}

å¦å¤–å¦‚æœæƒ³ç”¨å…¶ä»–æ–‡å­—ä¾†ç·¨è™Ÿçš„è©±å¯ä»¥ç”¨`\tag{}`ä¾†æ¨™è¨˜æ–¹ç¨‹å¼ï¼Œä½¿ç”¨`\label{}`ç•¶ä½œå¼•ç”¨æ™‚çš„æ¨™å‰ï¼Œä¾‹å¦‚èªªä»¥ä¸‹é€™å€‹å¼å­

```latex
$$x+1\over\sqrt{1-x^2} \tag{i}\label{eq_tag}$$
```

$$x+1\over\sqrt{1-x^2} \tag{i}\label{eq_tag}$$

è€Œè¦å¼•ç”¨æ™‚è¦ä½¿ç”¨`\label{}`æ‹¬è™Ÿä¸­çš„å…§å®¹ï¼Œä»¥ä¸Šé¢çš„ç‚ºä¾‹å°±æ˜¯`$\eqref{eq_tag}$`ï¼Œå¯¦éš›çš„æ¨£å­æ‡‰è©²å°±æ˜¯åƒé€™æ¨£$\eqref{eq_tag}$

## çµèª

ç¾åœ¨å¯ä»¥è‡ªç”±è¼¸å…¥å„ç¨®æ¼‚äº®çš„å¼å­äº†ï½å¦‚æœæœ‰å•é¡Œæˆ–è€…ç™¼ç¾æˆ‘æœ‰å“ªè£¡è¬›éŒ¯ï¼Œæ­¡è¿å¤§å®¶åˆ°åº•ä¸‹ç•™è¨€å€è·Ÿæˆ‘è¨è«–å–”ï½

## å…¶ä»–åŠŸèƒ½

1. å´é‚Šæ¬„

    ï¼ [åŸºç¤é…ç½®(é—œæ–¼ã€æ¨™ç±¤ã€åˆ†é¡ã€æ­¸æª”ã€æœå°‹ã€é ­åƒã€å€‹äººç›¸é—œé€£çµ)](/NexT-sidebar-basic)
    ï¼ [åˆ‡æ›èªè¨€](/NexT-sidebar-switch-lang)

2. [é åº•](/NexT-footer)
3. [utterancesç•™è¨€æ¿](/NexT-utterances-comment-box)
4. [Google Analyticsçµ±è¨ˆç¶²ç«™è³‡è¨Š](/NexT-google-analytics)
5. [æ—¥/å¤œæ¨¡å¼](/NexT-dark-light-mode)
6. [live2dè§’è‰²ï¼ˆå°±æ˜¯ç¶²é å³ä¸‹è§’é‚£éš»å¯æ„›çš„ç‹—ç‹—ï¼‰](/NexT-live2d)
7. [SEOï¼šæœå°‹å¼•æ“æœ€ä½³åŒ–(Search Engine Optimization)](/SEO-Search-Engine-Optimization)
8. [å‰©ä¸‹çš„ä¸€äº›å°å·¥å…·](/NexT-some-cool-tools)
9. [è‡ªè¨‚ç¶²åŸŸ](/Hexo-NexT_custom_domain)
